{% extends 'base.html.twig' %}

{% block title %}{{ project.name }}{% endblock %}

{% block body %}
    <h1>{{ project.name }}</h1>
    <a href="{{ path('project_update', {id: project.id}) }}" class="btn btn-light">Update</a>
    <a id = "deleteButton" href="{{ path('project_delete', {id: project.id}) }}"  class="btn btn-danger delete-project" onclick="return confirm('Are you sure?')">Delete</a>
    <hr>
    <p>Project id:  {{ project.id }}</p>
    <p>Person in charge: {{ project.personInCharge }}</p>
    <p>Keep amount: {{ project.keepAmount }}</p>

    <h3>Connections</h3>
    <ul>
        {% for bDatabase in project.bDatabases %}
            <li>{{ bDatabase.username }}@{{ bDatabase.id }}:{{ bDatabase.port }}</li>
        {% endfor %}
    </ul>

    <h3>Databases</h3>
    <table class="table table-striped">
        <thead>
        <tr>
            <th>Host</th>
            <th>Username</th>
            <th>Driver</th>
            <th>Port</th>
            <th>DB Scheme</th>
        </tr>
        </thead>
        <tbody>
        {% for bDatabase in project.bDatabases %}
            <tr>
                <td>{{ bDatabase.id }}</td>
                <td>{{ bDatabase.username }}</td>
                <td>{{ bDatabase.driver }}</td>
                <td>{{ bDatabase.port }}</td>
                <td>{{ bDatabase.dbSchema }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    //todo CONNECTIONS
    //todo DATABASES
    //todo DATA

    <hr>
    <a href="{{ path('project_list') }}">Go Back</a>
    {% endblock %}


